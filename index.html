<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Best Buy Tamagotchi</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- Login Screen -->
    <div id="loginScreen" class="screen active">
        <div class="container">
            <div class="card">
                <div class="best-buy-logo">
                    <h1>Best Buy</h1>
                    <p class="subtitle">Employee Tamagotchi</p>
                </div>
                <form id="loginForm">
                    <div class="form-group">
                        <label for="username">Username</label>
                        <input type="text" id="username" name="username" required placeholder="Enter your username">
                    </div>
                    <button type="submit" class="btn btn-primary">Login</button>
                </form>
                <div id="loginError" class="error-message"></div>
            </div>
        </div>
    </div>

    <!-- Work Hours Screen -->
    <div id="workHoursScreen" class="screen">
        <div class="container">
            <div class="card">
                <h2>Welcome, <span id="employeeName"></span>!</h2>
                <p>How many hours are you working today?</p>
                <form id="workHoursForm">
                    <div class="form-group">
                        <label for="workHours">Work Hours</label>
                        <input type="number" id="workHours" name="workHours" min="0.5" max="12" step="0.5" required placeholder="e.g., 8">
                    </div>
                    <button type="submit" class="btn btn-primary">Start Shift</button>
                </form>
                <div id="workHoursError" class="error-message"></div>
            </div>
        </div>
    </div>

    <!-- Main Game Screen -->
    <div id="gameScreen" class="screen">
        <div class="container">
            <!-- Header -->
            <div class="game-header">
                <div class="user-info">
                    <h2>Welcome, <span id="gameEmployeeName"></span>!</h2>
                    <button id="logoutBtn" class="btn btn-secondary">Logout</button>
                </div>
            </div>

            <!-- Animal Display -->
            <div class="animal-container">
                <div class="animal-display">
                    <div id="animalSprite" class="animal-sprite">
                        <div class="animal-emoji">ğŸ±</div>
                    </div>
                    <div class="animal-name"><span id="animalType">Cat</span></div>
                    <div class="animal-status" id="animalStatus">ğŸ˜„ Happy</div>
                    <button id="changePetBtn" class="btn btn-secondary" style="margin-top: 10px;">Change Pet</button>
                </div>
                
                <!-- Stats Bars -->
                <div class="stats-container">
                    <div class="stat-bar">
                        <label>â¤ï¸ Health</label>
                        <div class="bar-container">
                            <div class="bar health-bar" id="healthBar"></div>
                            <span class="stat-value" id="healthValue">100</span>
                        </div>
                    </div>
                    <div class="stat-bar">
                        <label>ğŸ˜Š Happiness</label>
                        <div class="bar-container">
                            <div class="bar happiness-bar" id="happinessBar"></div>
                            <span class="stat-value" id="happinessValue">100</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Goals Display -->
            <div class="goals-container card">
                <h3>ğŸ“Š Today's Performance Goals</h3>
                <div class="goal-info">
                    <div class="goal-item">
                        <span class="goal-label">Work Hours:</span>
                        <span class="goal-value" id="goalWorkHours">-</span>
                    </div>
                    <div class="goal-item">
                        <span class="goal-label">â­ Paid Memberships:</span>
                        <span class="goal-value" id="goalPaidMemberships">0 / 0</span>
                    </div>
                    <div class="goal-item">
                        <span class="goal-label">ğŸ’³ Credit Cards:</span>
                        <span class="goal-value" id="goalCreditCards">0 / 0</span>
                    </div>
                    <div class="goal-item">
                        <span class="goal-label">Revenue Goal:</span>
                        <span class="goal-value" id="goalAmount">$0</span>
                    </div>
                    <div class="goal-item">
                        <span class="goal-label">Current Revenue:</span>
                        <span class="goal-value" id="currentRevenue">$0</span>
                    </div>
                    <div class="goal-item">
                        <span class="goal-label">Total Revenue:</span>
                        <span class="goal-value" id="totalRevenue">$0</span>
                    </div>
                    <div class="goal-status" id="goalStatus">
                        <span class="status-text">Goal not yet achieved</span>
                    </div>
                </div>
            </div>

            <!-- Feed Form -->
            <div class="feed-container card">
                <h3>ğŸ• Feed Your Animal</h3>
                <p>Enter revenue to feed your animal and reach your goals!</p>
                <form id="feedForm">
                    <div class="form-group">
                        <label for="revenue">Revenue Amount ($)</label>
                        <input type="number" id="revenue" name="revenue" min="0.01" step="0.01" required placeholder="e.g., 150.00">
                    </div>
                    <div class="form-group checkbox-group">
                        <label class="checkbox-label">
                            <input type="checkbox" id="hasCreditCard" name="hasCreditCard">
                            <span>ğŸ’³ Credit Card</span>
                        </label>
                        <label class="checkbox-label">
                            <input type="checkbox" id="hasPaidMembership" name="hasPaidMembership">
                            <span>â­ Paid Membership</span>
                        </label>
                        <label class="checkbox-label">
                            <input type="checkbox" id="hasWarranty" name="hasWarranty">
                            <span>ğŸ›¡ï¸ Warranty Attached</span>
                        </label>
                    </div>
                    <div class="bonus-info">
                        <p><strong>ğŸ’¡ How It Works:</strong></p>
                        <p><strong>Health (connected to revenue):</strong></p>
                        <p>â­ Paid Membership = +20 Health</p>
                        <p>ğŸ’³ Credit Card = +20 Health</p>
                        <p>â­+ğŸ’³ Both together = Extra +10 Health</p>
                        <p>ğŸ›¡ï¸ Warranty = +10 Health</p>
                        <p style="margin-top: 10px;"><strong>Happiness (based on goal progress):</strong></p>
                        <p>ğŸ“Š Happiness is calculated from your Credit Card and Paid Membership goals</p>
                        <p>ğŸ¯ Reach your goals = 100% Happiness!</p>
                        <p>âš¡ Animation speed changes based on Health + Happiness</p>
                    </div>
                    <button type="submit" class="btn btn-success">Feed Animal</button>
                </form>
                <div id="feedMessage" class="success-message"></div>
                <div id="feedError" class="error-message"></div>
            </div>
        </div>
    </div>

    <!-- Pet Selection Modal -->
    <div id="petModal" class="modal">
        <div class="modal-content">
            <h2>Choose Your Pet</h2>
            <div class="pet-grid">
                <button class="pet-option" data-pet="cat">
                    <span class="pet-emoji">ğŸ±</span>
                    <span class="pet-name">Cat</span>
                </button>
                <button class="pet-option" data-pet="dog">
                    <span class="pet-emoji">ğŸ¶</span>
                    <span class="pet-name">Dog</span>
                </button>
                <button class="pet-option" data-pet="bird">
                    <span class="pet-emoji">ğŸ¦</span>
                    <span class="pet-name">Bird</span>
                </button>
                <button class="pet-option" data-pet="rabbit">
                    <span class="pet-emoji">ğŸ°</span>
                    <span class="pet-name">Rabbit</span>
                </button>
                <button class="pet-option" data-pet="hamster">
                    <span class="pet-emoji">ğŸ¹</span>
                    <span class="pet-name">Hamster</span>
                </button>
                <button class="pet-option" data-pet="fish">
                    <span class="pet-emoji">ğŸ </span>
                    <span class="pet-name">Fish</span>
                </button>
            </div>
            <button id="closePetModal" class="btn btn-secondary" style="margin-top: 15px;">Cancel</button>
        </div>
    </div>

    <!-- Revenue Override Modal -->
    <div id="revenueOverrideModal" class="modal" style="display: none;">
        <div class="modal-content">
            <h2>âš ï¸ High Revenue Amount Detected</h2>
            <p style="margin: 15px 0;">You entered a revenue amount of <strong id="highRevenueAmount"></strong>, which is unusually high (over $8,000).</p>
            <p style="color: #666; font-size: 0.95em;">Please confirm this amount is correct before proceeding.</p>
            <div style="display: flex; gap: 10px; margin-top: 25px;">
                <button id="cancelRevenueBtn" class="btn btn-secondary" style="flex: 1;">Cancel</button>
                <button id="overrideRevenueBtn" class="btn btn-primary" style="flex: 1;">Override and Submit</button>
            </div>
        </div>
    </div>

    <!-- Import utility scripts -->
    <script src="utils/animal-status.js"></script>
    <script src="utils/cookies.js"></script>
    <script src="utils/session.js"></script>
    <script src="app.js"></script>
</body>
</html>
